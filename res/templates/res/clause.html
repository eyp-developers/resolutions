{% extends 'res/base.html' %}
{% load staticfiles %}

{% block content %}
{% if clauseform %}
<h3>Edit Clause:</h3>
<form class="form-horizontal" role="form" method="post" action="{% url 'res:clause' clause.id %}">
    {% csrf_token %}
    {% for field in clauseform %}
  <div class="form-group">
      <label class="control-label col-sm-2" for="{{ field.id_for_label }}">{{ field.label }} {{ field.errors }}</label>

    <div class="col-sm-10">
      {{ field }}
    </div>
  </div>
    {% endfor %}
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary">Save Clause</button>
    </div>
  </div>
</form>
{% endif %}

<table class="table table-striped">
    <thead>
    <tr>
        <th>Position</th>
        <th>Content</th>
        <th>Edit</th>
    </tr>
    </thead>
    <tbody>
    {% for diff, content in diffs %}
    <tr>
        <td>
            {{ content.timestamp }}
        </td>
        <td>{{ diff|safe }}</td>
    </tr>
    {% endfor%}
    <tr>
        <td>
            {{ last.timestamp }}
        </td>
        <td>{{ last.content }}</td>
    </tr>
    </tbody>
</table>
{% endblock %}